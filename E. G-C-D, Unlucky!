//this problem is solved 
//https://codeforces.com/contest/2126/problem/E



#include <iostream>
#include<bits/stdc++.h>
using namespace std;

using ll=long long;
ll gcd(ll a,ll b){
    while(b){
        ll t= a%b;
        a=b;
        b=t;
    }
    return a;
}
 
int main() {
    int t;
    cin>>t;
    
    while (t--) {
    int n;
    cin>>n;
    vector<ll> p(n);
    vector<ll>s(n);
        int f=1;
    for(int i=0;i<n;++i){
        cin>>p[i];
    }
    for(int i=0;i<n;++i){
        cin>>s[i];
    }

    // for(int i=1;i<n;++i){
    //     (p[i-1]%p[i]!=0){
    //         f=0;
    //         break;
    //     }
    // }
    // for(int i=n-2;i>=0 && f;++i){
    //     (s[i+1]%p[i]!=0){
    //         f=0;
    //         break;
    //     }
    // }
    
    //  for(int i=0;i<n && f;++i){
    //     (s[i]%p[i]!=0 && p[i]%s[i]!=0 ){
    //         f=0;
    //         break;
    //     }
    // }
    
    
    
    //contrunting aA vector
    vector<ll>a(n);
    for(int i=0;i<n;++i){
        ll commongcd= gcd(s[i],p[i]);
        a[i]=(p[i]/commongcd)*s[i];//to avoid overflow
        
        
    }
    ll commongcd=0;
    for(int i=0;i<n;++i){
        commongcd=gcd(commongcd,a[i]);
        if(commongcd!=p[i]){
            f=0;
            break;
        }
        
    }
    commongcd=0;
     for(int i=n-1;i>=0 && f;--i){
        commongcd=gcd(commongcd,a[i]);
        if(commongcd!=s[i]){
            f=0;
            break;
        }
        
    }
    
    
    
    if(f){
        cout<<"yes"<<endl;
    }
    else{
        cout<<"no"<<endl;
    }
    
    
    
    }
    return 0;
}
